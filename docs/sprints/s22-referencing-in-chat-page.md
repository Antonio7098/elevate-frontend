# Sprint 23: Chat Page - Mention Suggestion Popups

**Signed off:**
**Date Range:**
**Primary Focus:** Frontend - Chat UI
**Overview:** This sprint focuses on enhancing the chat page by implementing a suggestion popup for referencing folders, question sets, and notes. When a user types `@`, `#`, or `!`, a popup will appear with relevant suggestions. Selecting a suggestion will insert it into the input field as a styled token.

---

## I. Planned Tasks & To-Do List

- [ ] **Task 1: Install and Configure `react-mentions` Library**
    - *Sub-task 1.1:* Install the `react-mentions` library and its types (`@types/react-mentions`).
    - *Sub-task 1.2:* Import the library into `ChatPage.tsx` and replace the existing `<input>` with the `MentionsInput` component.
    - *Sub-task 1.3:* Create a basic configuration to ensure the new input is functional.

- [ ] **Task 2: Implement Combined Suggestions (`@`)**
    - *Sub-task 2.1:* Create a unified data source for folders, question sets, and notes. Each item should have a `type` identifier.
    - *Sub-task 2.2:* Configure a single `Mention` component to trigger on `@` and use the combined data source.
    - *Sub-task 2.3:* Style the suggestions in the popup to visually distinguish between folders, question sets, and notes.

- [ ] **Task 3: Update Message Sending Logic**

    - *Sub-task 3.1:* Modify `handleSendMessage` to correctly parse the markup generated by `react-mentions`.
    - *Sub-task 3.2:* Use the `type` of the mention to correctly update the chat context (e.g., set `folderId`, `questionSetId`, or `noteId`).

---

## II. Agent's Implementation Summary & Notes

**(Agent to fill out as tasks are completed)**

---

## III. Overall Sprint Summary & Review

**(To be filled out by Antonio after work is done)**
